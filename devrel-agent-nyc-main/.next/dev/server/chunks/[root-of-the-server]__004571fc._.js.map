{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/devrel-agent-nyc/lib/jobs.ts"],"sourcesContent":["// In-memory job storage (upgrade to Redis/DB later)\n\nimport type { GenerationJob, LogEntry } from './types'\n\nconst jobs = new Map<string, GenerationJob>()\n\nexport function createJob(repoUrl: string): GenerationJob {\n  const id = `job-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n  \n  const job: GenerationJob = {\n    id,\n    repoUrl,\n    status: 'pending',\n    progress: 0,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n    logs: []\n  }\n\n  jobs.set(id, job)\n  return job\n}\n\nexport function getJob(id: string): GenerationJob | undefined {\n  return jobs.get(id)\n}\n\nexport function updateJob(id: string, updates: Partial<GenerationJob>): void {\n  const job = jobs.get(id)\n  if (job) {\n    Object.assign(job, updates, { updatedAt: new Date().toISOString() })\n    jobs.set(id, job)\n  }\n}\n\nexport function addLog(jobId: string, agent: string, message: string, color: string = 'text-foreground'): void {\n  const job = jobs.get(jobId)\n  if (job) {\n    const log: LogEntry = {\n      id: job.logs.length,\n      agent,\n      message,\n      color,\n      timestamp: new Date().toISOString()\n    }\n    job.logs.push(log)\n    job.updatedAt = new Date().toISOString()\n    jobs.set(jobId, job)\n  }\n}\n\nexport function getAllJobs(): GenerationJob[] {\n  return Array.from(jobs.values())\n}\n\n// Cleanup old jobs (optional, for memory management)\nexport function cleanupOldJobs(maxAge: number = 3600000): void {\n  const now = Date.now()\n  for (const [id, job] of jobs.entries()) {\n    const age = now - new Date(job.createdAt).getTime()\n    if (age > maxAge) {\n      jobs.delete(id)\n    }\n  }\n}\n"],"names":[],"mappings":"AAAA,oDAAoD;;;;;;;;;;;;;;;AAIpD,MAAM,OAAO,IAAI;AAEV,SAAS,UAAU,OAAe;IACvC,MAAM,KAAK,CAAC,IAAI,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;IAEzE,MAAM,MAAqB;QACzB;QACA;QACA,QAAQ;QACR,UAAU;QACV,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;QACjC,MAAM,EAAE;IACV;IAEA,KAAK,GAAG,CAAC,IAAI;IACb,OAAO;AACT;AAEO,SAAS,OAAO,EAAU;IAC/B,OAAO,KAAK,GAAG,CAAC;AAClB;AAEO,SAAS,UAAU,EAAU,EAAE,OAA+B;IACnE,MAAM,MAAM,KAAK,GAAG,CAAC;IACrB,IAAI,KAAK;QACP,OAAO,MAAM,CAAC,KAAK,SAAS;YAAE,WAAW,IAAI,OAAO,WAAW;QAAG;QAClE,KAAK,GAAG,CAAC,IAAI;IACf;AACF;AAEO,SAAS,OAAO,KAAa,EAAE,KAAa,EAAE,OAAe,EAAE,QAAgB,iBAAiB;IACrG,MAAM,MAAM,KAAK,GAAG,CAAC;IACrB,IAAI,KAAK;QACP,MAAM,MAAgB;YACpB,IAAI,IAAI,IAAI,CAAC,MAAM;YACnB;YACA;YACA;YACA,WAAW,IAAI,OAAO,WAAW;QACnC;QACA,IAAI,IAAI,CAAC,IAAI,CAAC;QACd,IAAI,SAAS,GAAG,IAAI,OAAO,WAAW;QACtC,KAAK,GAAG,CAAC,OAAO;IAClB;AACF;AAEO,SAAS;IACd,OAAO,MAAM,IAAI,CAAC,KAAK,MAAM;AAC/B;AAGO,SAAS,eAAe,SAAiB,OAAO;IACrD,MAAM,MAAM,KAAK,GAAG;IACpB,KAAK,MAAM,CAAC,IAAI,IAAI,IAAI,KAAK,OAAO,GAAI;QACtC,MAAM,MAAM,MAAM,IAAI,KAAK,IAAI,SAAS,EAAE,OAAO;QACjD,IAAI,MAAM,QAAQ;YAChB,KAAK,MAAM,CAAC;QACd;IACF;AACF"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/devrel-agent-nyc/app/api/status/%5BjobId%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\nimport { getJob } from '@/lib/jobs'\n\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: Promise<{ jobId: string }> }\n) {\n  const { jobId } = await params\n  \n  const job = getJob(jobId)\n  \n  if (!job) {\n    return NextResponse.json(\n      { error: 'Job not found' },\n      { status: 404 }\n    )\n  }\n  \n  return NextResponse.json(job)\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IACpB,OAAoB,EACpB,EAAE,MAAM,EAA0C;IAElD,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM;IAExB,MAAM,MAAM,IAAA,uHAAM,EAAC;IAEnB,IAAI,CAAC,KAAK;QACR,OAAO,+QAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAgB,GACzB;YAAE,QAAQ;QAAI;IAElB;IAEA,OAAO,+QAAY,CAAC,IAAI,CAAC;AAC3B"}}]
}